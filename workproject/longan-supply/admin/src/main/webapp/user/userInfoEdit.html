<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>用户修改</title>
    #parse("common/common.vm")
    #parse("common/select.vm")
    #parse("common/errorUtils.vm")
    <link rel="stylesheet" type="text/css" href="$!staticServer/css/base.css" />
    <link rel="stylesheet" type="text/css" href="$!staticServer/css/list-common.css" />
    <script type="text/javascript" src="$!staticServer/js/jquery-1.7.2.js"></script>
    <script type="text/javascript" src="$!staticServer/js/jquery-ui-1.8.22.custom.min.js"></script>
    <link rel="stylesheet" type="text/css" href="$!staticServer/css/ui-lightness/jquery-ui-1.8.22.custom.css" />
    <script type="text/javascript" src="$!staticServer/js/tip.js"></script>
    
</head>
<body onload="load('$!userInfo.type')" class="list-body">
    $!errorMsg
    <div class="list-container">
        <div class="alert-title fz-16"></b>用户修改</div>
        <form id="form" class="queryForm" action="userInfoEdit.do" method="post" >
            <input type="hidden" name="id" value="$!userInfo.id"/>
            <input type="hidden" name="type" value="$!userInfo.type"/>
            
            <table class="table query-style table-striped table-bordered table-condensed list">
                <thead>
                    <tr>
                        <td colspan="6"><b>用户基本信息</b></td>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td width="100">登录名</td>
                        <td class="detail">
                           <input type="text" name="loginName"  size="20" value="$!userInfo.loginId">#getErrorMessage($errorList,"loginId")
                        </td>
                        <td width="100">用户名 <font color="#FF0000">*</font></td>
                        <td class="detail">
                            <input type="text" name="userName"  size="20" value="$!userInfo.userName">
                            #getErrorMessage($errorList,"userName")
                        </td>  
                        <td width="100">邮箱</td>
                        <td class="detail">
                            <input type="text" name="email"  size="20" value="$!userInfo.email">
                                #getErrorMessage($errorList,"email")
                        </td>             
                    </tr>
                    <tr>
                        <td width="100">公司信息 <font color="#FF0000">*</font></td>
                        <td class="detail">
                            <input type="text" name="compayInfo"  size="20" value="$!userInfo.compayInfo">
                            #getErrorMessage($errorList,"compayInfo")
                        </td>
                        <td width="100">用户状态 <font color="#FF0000">*</font> </td>
                        <td class="detail">
                            #select($!statusList,'status',$!userInfo.status)
                            #getErrorMessage($errorList,"status")
                        </td> 
                        <td width="100">联系电话</td>
                        <td class="detail">
                            <input type="text" name="mobile"  size="20" value="$!userInfo.mobile">
                            #getErrorMessage($errorList,"mobile")
                        </td>
                    </tr>
                    <tr>
                        <td width="100">用户类型</td>
                        <td class="detail">
                            <input type="text" name="userType"  size="20" value="$!userInfo.typeDesc">
                            #getErrorMessage($errorList,"type")
                        </td><td></td><td></td><td></td><td></td>
                    </tr>
                </tbody>
                        
            </table>
            <div id="downdiv">
            <table class="table query-style table-striped table-bordered table-condensed list" id="downtable">
                <tbody>
                    <tr>
                         #if($!userInfo.isDownStreamUser())
                        <td width="100">商户状态 <font color="#FF0000">*</font></td>
                         <td class="detail">
                                #select($!traderInfoStatusList,'traderInoStatus',$!traderInfo.status)
                                #getErrorMessage($errorList,"traderInoStatus")
                        </td>
                        #end 
                        <td width="100">回调地址</td>
                        <td class="detail">
                           <input type="text" name="callbackUrl" value="$!traderInfo.callbackUrl">
                           #getErrorMessage($errorList,"callbackUrl")
                        </td>   
                       

                        <td width="100" style="color:#fff">商户状态</td>
                        <td class="detail"><input type="text" name="callbackUrl" value="" style="border:0px;background-color: #fff;"></td>           
                    </tr>       
                </tbody>
            </table>
            </div>
            
            <div id="updiv">
            <table class="table query-style table-striped table-bordered table-condensed list" id="downtable">
                 <tbody>
                     <tr>
                        <td width="100">供货类型 <font color="#FF0000">*</font></td>
                        <td class="detail">
                            #select($supplyTypeList,"supplyType",$!traderInfo.supplyType)
                            #getErrorMessage($errorList,"supplyType")
                        </td>   
                        <td width="100">是否异步供货<font color="#FF0000">*</font></td>
                        <td class="detail">
                            #select($isAsyncSupplyList,"isAsyncSupply",$!traderInfo.isAsyncSupply)
                            #getErrorMessage($errorList,"isAsyncSupply")
                        </td> 
                        <td width="100">阀值限定</td>
                        <td class="detail">
                           <input type="text" name="chargingLimit"   value="$!traderInfo.chargingLimit">
                           #getErrorMessage($errorList,"chargingLimit")
                        </td>      
                    </tr>
                    <tr>
                        #if($!userInfo.isUpStreamUser())
                        <td width="100">商户状态  <font color="#FF0000">*</font></td>
                         <td class="detail">
                            #select($!traderInfoStatusList,'traderInoStatus',$!traderInfo.status)
                            #getErrorMessage($errorList,"traderInoStatus")
                        </td>
                        #end                
                    </tr>       
                </tbody>
            </table>
            </div>
            
            <table class="table table-striped table-bordered table-condensed list">
                <tbody>
                    <tr>
                        <td colspan="6" align="left">
                            <input class="btn btn-inverse" id="find" type="submit" value="保存" />
                            <input class="btn btn-inverse" type="button" onclick="javascript: history.go(-1)" value="取消" />
                        </td>
                    </tr>
                </tbody>
            </table>
        </form> 
    </div>

<script type="text/javascript">
    function load(type){
        var downdiv = document.getElementById('downdiv');
        var updiv = document.getElementById('updiv');
        if(type == 2){
            downdiv.style.display="block";
            updiv.style.display="none";
        }else if(type == 3){
            downdiv.style.display="none";
            updiv.style.display="block";
        }else{
            downdiv.style.display="none";
            updiv.style.display="none";
        }
    }
</script>
</body>
</html>
