<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">
<sqlMap namespace="config">
	<resultMap id="configResult" class="com.longan.biz.dataobject.Config">
		<result column="id" property="id" jdbcType="BIGINT" />
		<result column="gmt_create" property="gmtCreate" />
		<result column="gmt_modify" property="gmtModify" />
		<result column="config_key" property="configKey" />
		<result column="config_value" property="configValue" />
	</resultMap>

	<sql id="configFullColumns">
		id,gmt_create,gmt_modify,config_key,config_value
	</sql>

	<insert id="insert" parameterClass="com.longan.biz.dataobject.Config">
		insert into
		config (
		<include refid="config.configFullColumns" />
		)
		values
		(id,now(),now(),
		#configKey#,
		#configValue#
		)
		<selectKey resultClass="Long" keyProperty="id">
			SELECT
			LAST_INSERT_ID()
		</selectKey>
	</insert>

	<select id="queryAllConfig" resultMap="configResult">
		select
		<include refid="config.configFullColumns" />
		from config
	</select>

</sqlMap>