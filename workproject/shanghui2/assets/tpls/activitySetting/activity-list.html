<div class="main-view-wrapper">
    <!-- 条件筛选 -->
    <form class="form-inline form-search" style="margin-bottom: 7px;">
        
        <div class="form-group m-5">
            <input type="text" ng-model="queryModel.key" class="form-control" placeholder="活动名称" />
        </div>
        <div class="form-group m-5">
            <button type="button" class="btn btn-primary" ng-click="search()"><i class="fa fa-search mr-3"></i>查询</button>
            <button type="button" class="btn btn-default" ng-click="clear()"><i class="fa fa-undo mr-3"></i>重置</button>
        </div>
          
        
    </form>
    <div class="mt-5 mb-5">
        <a ui-sref="activity.create" class="btn btn-success vat" href="javascript:;"><i class="fa fa-plus mr-3"></i>创建活动</a>
    </div>
    <!-- 数据展示 -->
    <div class="table-wrapper">
      <table class="table table-bordered table-condensed table-striped table-hover">
        <thead>
          <tr>
            <th>活动标题</th>
            <th>活动时间</th>
            <th>报名权限</th>
            <th>查看权限</th>
            <th>状态</th>
            <th>置顶</th>
            <th>已报人数</th>
            <th style="width:150px;">操作</th>
          </tr>
        </thead>
        <tbody>
          <tr ng-repeat="item in dataList">
            <td><span ng-bind="item.activityTitle"></span></td>
            <td><span ng-bind="item.activityDate"></span></td>
            <td >
                <span ng-repeat="(key,value) in item.activityRegisterAuth.split(',')">
                    <i ng-if="$index!=0">、</i><u ng-bind="{'0':'公开','1':'同乡','2':'会员','3':'服务组','4':'到期会员'}[value]"></u>
                </span>
            </td>
            <td>
                <span ng-repeat="(key,value) in item.activityReadAuth.split(',')">
                    <i ng-if="$index!=0">、</i><u ng-bind="{'1':'同乡','2':'会员','3':'服务组','4':'到期会员'}[value]"></u>
                </span>
            </td>
            <td><span ng-bind="{'0':'草稿','1':'发布中','2':'已过期'}[item.activityStatus]"></span></td>
            <td><span ng-bind="{'0':'否','1':'是'}[item.top]"></span></td>
            <td><span ng-bind="item.activityMemberCount"></span></td>
            <td class="text-center">
              <a href="javascript:;" class="c-primary" ui-sref="activity.member({id:item.activityId})">详情</a>
              <a href="javascript:;" class="c-primary" ui-sref="activity.edit({id:item.activityId})">编辑</a>
              <a href="javascript:;" class="c-primary" ng-click="activityPublish(item)"><u ng-bind="{'0':'发布','1':'取消','2':''}[item.activityStatus]"></u></a>
              <a href="javascript:;" class="c-primary" ng-click="del(item.activityId)">删除</a>
            </td>
          </tr>
          
        </tbody>
      </table>
    </div>
    <!-- 数据分页 -->
    <div class="table-pager clearfix">
      <ul class="pagination pull-left">
          <li>
              <a>共{{pagerOption.pages}}页,{{pagerOption.total}}条记录</a>
          </li>
      </ul>
      <!-- 分页插件 -->
      <uib-pagination total-items="pagerOption.total" ng-model="queryModel.page" max-size="10" ng-change="query()" items-per-page="pagerOption.pagesize" boundary-links="true" class="pagination-md pull-right" rotate="false" num-pages="pagerOption.pages"></uib-pagination>
    </div>

</div>
    